# Notification Parameters

This document describes the standardized parameters that Attila may pass 
to notifiers, and the conditions under which they are passed.


## General Parameters

The following parameters will always be provided for every notification
generated by Attila:

* host: The host name or IP address of the server where the process is 
  running.
* user: The user name associated with running process.
* pid: The process ID associated with the running process.
* process: The name of the program, script, or module that generated the 
  notification.
* version: The version of the program, script, or module. This will be 
  None if the entry point does not have a `__version__` metadata tag 
* event: The type of event which triggered the notification. Will be one
  of the following values:
    * start: The task or process is starting. 
    * end: The task or process is ending.
    * success: The task or process succeeded.
    * failure: The task or process failed.
    * exception: An exception occurred. (This may or may not cause the
      task or process to terminate. If it terminates, a separate
      notification of event type 'end' will be posted.)
    * warning: A warning message was posted.
    * information: An informational message was posted.
    * other: Any other type of event.
* time: The time of the notification.
* testing: Whether the process is being executed in test mode.


## Task-Related Parameters

Task-related events are sometimes generated automatically by the Attila
framework, but are more commonly generated by the use of task contexts,
e.g. `with task('<task description>') as this_task:` blocks appearing in 
the automation script.


The following parameter will be provided whenever a notifier is 
triggered by a task context:

* task: The task that the notification pertains to.


The following parameter will be provided whenever a notifier is 
triggered by a success or failure event, but may have a value of None 
depending on whether or not a message was provided in the automation
script:

* message: The message text for the notification.


## Exception-Related Parameters

The following parameters will be provided whenever an exception
notification is generated by Attila:

* exc_info: The execution info for an exception.
* traceback: The traceback string for an exception.


The following parameters will be provided whenever a notifier has an 
exception while trying to deliver a notification, and the resulting 
exception triggers a secondary, failover notification:

* args: The arguments that were originally passed to the failed notifier 
  if a notifier failed and triggered a secondary failover notification.
* kwargs: The keyword arguments that were originally passed to the 
  failed notifier if a notifier failed and triggered a secondary
  failover notification.
